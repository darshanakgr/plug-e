webpackJsonp([1],{"0OeC":function(t,s){},"1r0K":function(t,s){},CdPZ:function(t,s,e){t.exports=e.p+"static/img/PLUGe_cover.61681b9.jpg"},E0Pe:function(t,s){},Jmt5:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("7+uW"),n=e("mtWM"),i=e.n(n),r={name:"NavBar",data:function(){return{login_action:"Sign In",url:"/login"}},methods:{},beforeCreate:function(){var t=this;i.a.get("/api/current_user").then(function(s){t.login_action=s.data?"Sign out":"Sign In",t.url=s.data?"/api/logout":"/login"}).catch(function(t){console.log(t)})}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("nav",{staticClass:"navbar navbar-default"},[e("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"bs-example-navbar-collapse-1"}},[t._m(1),t._v(" "),e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("a",{attrs:{href:t.url}},[t._v(t._s(t.login_action))])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"navbar-header"},[s("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-1","aria-expanded":"false"}},[s("span",{staticClass:"sr-only"},[this._v("Toggle navigation")]),this._v(" "),s("span",{staticClass:"icon-bar"}),this._v(" "),s("span",{staticClass:"icon-bar"}),this._v(" "),s("span",{staticClass:"icon-bar"})]),this._v(" "),s("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[this._v("Plug-"),s("strong",[this._v("e")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"nav navbar-nav"},[s("li",[s("a",{attrs:{href:"/"}},[this._v("Home")])]),this._v(" "),s("li",[s("a",{attrs:{href:"/subscribe"}},[this._v("Subscribe")])]),this._v(" "),s("li",[s("a",{attrs:{href:"/device"}},[this._v("Device")])])])}]};var c={name:"App",components:{NavBar:e("VU/8")(r,o,!1,function(t){e("0OeC")},"data-v-46d02982",null).exports}},l={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("nav-bar"),this._v(" "),s("router-view")],1)},staticRenderFns:[]};var d=e("VU/8")(c,l,!1,function(t){e("in2m")},null,null).exports,u=e("/ocq"),v=e("UlOv"),p=v.b.reactiveProp,m={extends:v.a,mixins:[p],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},h={name:"SwitchControl",props:{deviceId:{type:String,required:!0}},data:function(){return{state:"Off",isOn:!1}},methods:{handleOn:function(){var t=this;i.a.post("/api/switch/"+this.deviceId+"/ON").then(function(s){t.state="On",t.isOn=!0}).catch(function(t){console.log(t),alert("Unable to switch on the device")})},handleOff:function(){var t=this;i.a.post("/api/switch/"+this.deviceId+"/OFF").then(function(s){t.state="Off",t.isOn=!1}).catch(function(t){alert("Unable to switch on the device")})}}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn dropdown-toggle",class:{"btn-danger":t.isOn,"btn-success":!t.isOn},attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[t._v("\n        "+t._s(t.state)+" "),e("span",{staticClass:"caret"})]),t._v(" "),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{on:{click:t.handleOn}},[t._v("On")])]),t._v(" "),e("li",[e("a",{on:{click:t.handleOff}},[t._v("Off")])])])])},staticRenderFns:[]};var g={name:"DeviceDetail",components:{LineChart:m,SwitchControl:e("VU/8")(h,f,!1,function(t){e("E0Pe")},"data-v-87c32d82",null).exports},data:function(){return{device:{device_id:"ASD001",status:"Connected",profile:"Profile 1",powerConsumptionKWH:0,powerConsumptionLKR:0,estimatedUsage:10},datacollection:void 0}},mounted:function(){this.fillData()},methods:{fillData:function(){var t=this,s=new Date;i.a.get("/api/usage/"+this.device.device_id+"/"+s.getFullYear()+"/"+s.getMonth()).then(function(s){var e=[0,0,0,0,0,0,0],a=0;if(s.data){var n=s.data;for(var i in n)e[n[i].day]+=2.5*n[i].usage,a+=2.5*n[i].usage}t.device.estimatedUsage=a/7,t.datacollection={labels:["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],datasets:[{label:"LKR",backgroundColor:"#8e44ad",data:e}]}}).catch(function(t){console.log(t)})}},created:function(){var t=this;setInterval(function(){var s=new Date;i.a.get("/api/usage/"+t.device.device_id+"/"+s.getFullYear()+"/"+s.getMonth()+"/"+s.getDate()).then(function(s){s.data?t.device.powerConsumptionKWH=s.data.usage:t.device.powerConsumptionKWH=0,t.device.powerConsumptionLKR=2.5*t.device.powerConsumptionKWH}).catch(function(s){t.device.powerConsumptionKWH=0,t.device.powerConsumptionLKR=0})},3e3)}},j={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"panel panel-primary"},[e("div",{staticClass:"panel-heading"},[t._v("\n\t\t\t\t\tToday Insights\n\t\t\t\t")]),t._v(" "),e("div",{staticClass:"panel-body"},[e("div",{staticClass:"list-group"},[e("a",{staticClass:"list-group-item",attrs:{href:"#"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-8"},[e("h4",{staticClass:"list-group-item-heading"},[t._v("Status")]),t._v(" "),e("p",{staticClass:"list-group-item-text"},[t._v(t._s(t.device.status))])]),t._v(" "),e("div",{staticClass:"col-xs-4 text-center"},[e("switch-control",{staticClass:"switch",attrs:{deviceId:"ASD001"}})],1)])]),t._v(" "),e("a",{staticClass:"list-group-item",attrs:{href:"#"}},[e("h4",{staticClass:"list-group-item-heading"},[t._v("Profile")]),t._v(" "),e("p",{staticClass:"list-group-item-text"},[t._v(t._s(t.device.profile))])]),t._v(" "),e("a",{staticClass:"list-group-item",attrs:{href:"#"}},[e("h4",{staticClass:"list-group-item-heading"},[t._v("Power Consumption (kWh)")]),t._v(" "),e("p",{staticClass:"list-group-item-text"},[t._v(t._s(t.device.powerConsumptionKWH.toString().substring(0,8)))])]),t._v(" "),e("a",{staticClass:"list-group-item",attrs:{href:"#"}},[e("h4",{staticClass:"list-group-item-heading"},[t._v("Power Consumption (LKR)")]),t._v(" "),e("p",{staticClass:"list-group-item-text"},[t._v(t._s(t.device.powerConsumptionLKR.toString().substring(0,8)))])]),t._v(" "),e("a",{staticClass:"list-group-item",attrs:{href:"#"}},[e("h4",{staticClass:"list-group-item-heading"},[t._v("Estimated Usage (LKR)")]),t._v(" "),e("p",{staticClass:"list-group-item-text"},[t._v(t._s(t.device.estimatedUsage.toString().substring(0,8)))])])])])])]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"panel panel-primary"},[e("div",{staticClass:"panel-heading"},[t._v("\n\t\t\t\t\tWeekly Usage\n\t\t\t\t")]),t._v(" "),e("div",{staticClass:"panel-body"},[e("line-chart",{attrs:{"chart-data":t.datacollection,options:{responsive:!0,maintainAspectRatio:!1},height:335}})],1)])])])},staticRenderFns:[]};var b=e("VU/8")(g,j,!1,function(t){e("RKnR")},"data-v-87f8e2ec",null).exports,_={name:"DeviceSubscription",data:function(){return{deviceId:null,devices:[{deviceId:"pe20180306",date:"2018/06/05",status:"Disconnected"}]}},methods:{subscribe:function(){var t=this;i.a.post("/api/subscribe/"+this.deviceId+"/u001").then(function(s){t.deviceId=null,alert("Devices is subscribed successfully")}).catch(function(t){alert("Failed to subscribe the device")})}}},C={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"panel panel-primary"},[e("div",{staticClass:"panel-heading"},[t._v("\n\t\t\t\t\tSubscribe or Unsubscribe a Device\n\t\t\t\t")]),t._v(" "),e("div",{staticClass:"panel-body"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.deviceId,expression:"deviceId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Device Id"},domProps:{value:t.deviceId},on:{input:function(s){s.target.composing||(t.deviceId=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("input",{staticClass:"btn btn-default",attrs:{type:"button",value:"Check Availability"}}),t._v(" "),e("input",{staticClass:"btn btn-success",attrs:{type:"button",value:"Subscribe"},on:{click:t.subscribe}}),t._v(" "),e("input",{staticClass:"btn btn-danger",attrs:{type:"button",value:"Unsubscribe"}})])])])])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[e("div",{staticClass:"panel panel-default"},[e("div",{staticClass:"panel-heading"},[t._v("Subscribed Devices")]),t._v(" "),e("div",{staticClass:"panel-body"},[e("p",[t._v("Following devices are currently active in your account.")])]),t._v(" "),e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("Device Id")]),t._v(" "),e("th",[t._v("Last Active")]),t._v(" "),e("th",[t._v("Status")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("pe20180306")]),t._v(" "),e("td",[t._v("2018/06/05")]),t._v(" "),e("td",[t._v("Disconnected")])]),t._v(" "),e("tr",[e("td",[t._v("pe20180306")]),t._v(" "),e("td",[t._v("2018/06/05")]),t._v(" "),e("td",[t._v("Disconnected")])])])])])])}]};var w=e("VU/8")(_,C,!1,function(t){e("YtY5")},"data-v-3177361c",null).exports,y={name:"Login",data:function(){return{username:void 0,password:void 0}},methods:{signUp:function(){i.a.post("/api/signup",{username:this.username,password:this.password}).then(function(t){alert("User registered Successfully")}).catch(function(t){alert("User registeration failed")})},signIn:function(){var t=this;i.a.post("/api/login?username="+this.username+"&password="+this.password).then(function(s){t.$router.push("/")}).catch(function(t){alert("Invalid Credentials")})}}},x={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3"},[e("form",[e("fieldset",[e("h2",[t._v("Please Sign In")]),t._v(" "),e("hr",{staticClass:"colorgraph"}),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control input-lg",attrs:{type:"email",placeholder:"someone@example.com"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control input-lg",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._v(" "),e("hr",{staticClass:"colorgraph"}),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-6 col-sm-6 col-md-6"},[e("button",{staticClass:"btn btn-lg btn-success btn-block",on:{click:function(s){s.preventDefault(),t.signIn(s)}}},[t._v("Sign In")])]),t._v(" "),e("div",{staticClass:"col-xs-6 col-sm-6 col-md-6"},[e("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:function(s){s.preventDefault(),t.signUp(s)}}},[t._v("Register")])])])])])])])])},staticRenderFns:[]};var k=e("VU/8")(y,x,!1,function(t){e("1r0K")},"data-v-42862384",null).exports,z={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("img",{staticClass:"image",attrs:{src:e("CdPZ")}})])}]};var O=e("VU/8")({name:"Home",data:function(){return{}},methods:{}},z,!1,function(t){e("m4AC")},"data-v-08072701",null).exports;a.a.use(u.a);var S=new u.a({routes:[{path:"/device",name:"DeviceDetail",component:b},{path:"/subscribe",name:"DeviceSubscription",component:w},{path:"/login",name:"Login",component:k},{path:"/",name:"Home",component:O}],mode:"history"});e("Jmt5"),e("K3J8");a.a.config.productionTip=!1,new a.a({el:"#app",router:S,components:{App:d},template:"<App/>"})},RKnR:function(t,s){},YtY5:function(t,s){},in2m:function(t,s){},m4AC:function(t,s){},uslO:function(t,s,e){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(t){return e(i(t))}function i(t){var s=a[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.8f877148a0ac306da855.js.map